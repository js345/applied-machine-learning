{
    "contents" : "library(caret)\ndata<-read.csv(\"pima-indians-diabetes.data\", header=FALSE)\nx<-data[,-9]\ny<-data[,9]\npartition<-createDataPartition(y=y, p=0.8, list=FALSE)\ntrainX<-x[partition,]\ntrainY<-y[partition]\nflag<-trainY==1\ntrainP<-trainX[flag,]\ntrainN<-trainX[!flag,]\npMeans<-sapply(trainP, mean, na.rm=T)\nnMeans<-sapply(trainN, mean, na.rm=T)\npStd<-sapply(trainP, sd, na.rm=T)\nnStd<-sapply(trainN, sd, na.rm=T)\n# -(x-u)^2 / 2*sig^2 - log sig\ntestX<-x[-partition,]\ntestY<-y[-partition]\npOffset<-t(t(testX)-pMeans)\nnOffset<-t(t(testX)-nMeans)\npScales<-t(t(pOffset) / pStd)\nnScales<-t(t(nOffset) / nStd)\npLog<--(1/2)*rowSums(apply(pScales, c(1,2), function(x)x^2), na.rm = T) - sum(log(pStd))\nnLog<--(1/2)*rowSums(apply(nScales, c(1,2), function(x)x^2), na.rm = T) - sum(log(nStd))\nlvw=pLog>nLog\ncorrect<-lvw==testY\naccuracy<-sum(correct)/(sum(correct)+sum(!correct))\naccuracy\n\n\n",
    "created" : 1453438241419.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3677177414",
    "id" : "AB2E25C1",
    "lastKnownWriteTime" : 1454183996,
    "path" : "~/cs498/hw1/2a.R",
    "project_path" : "2a.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}